var x={exports:{}},E={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h;function O(){if(h)return E;h=1;var e=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function t(s,n,r){var u=null;if(r!==void 0&&(u=""+r),n.key!==void 0&&(u=""+n.key),"key"in n){r={};for(var o in n)o!=="key"&&(r[o]=n[o])}else r=n;return n=r.ref,{$$typeof:e,type:s,key:u,ref:n!==void 0?n:null,props:r}}return E.Fragment=i,E.jsx=t,E.jsxs=t,E}var L;function k(){return L||(L=1,x.exports=O()),x.exports}var y=k();let d=[],a=0;const p=4;let A=e=>{let i=[],t={get(){return t.lc||t.listen(()=>{})(),t.value},lc:0,listen(s){return t.lc=i.push(s),()=>{for(let r=a+p;r<d.length;)d[r]===s?d.splice(r,p):r+=p;let n=i.indexOf(s);~n&&(i.splice(n,1),--t.lc||t.off())}},notify(s,n){let r=!d.length;for(let u of i)d.push(u,t.value,s,n);if(r){for(a=0;a<d.length;a+=p)d[a](d[a+1],d[a+2],d[a+3]);d.length=0}},off(){},set(s){let n=t.value;n!==s&&(t.value=s,t.notify(n))},subscribe(s){let n=t.listen(s);return s(t.value),n},value:e};return t};const C=5,g=6,R=10;let N=(e,i,t,s)=>(e.events=e.events||{},e.events[t+R]||(e.events[t+R]=s(n=>{e.events[t].reduceRight((r,u)=>(u(r),r),{shared:{},...n})})),e.events[t]=e.events[t]||[],e.events[t].push(i),()=>{let n=e.events[t],r=n.indexOf(i);n.splice(r,1),n.length||(delete e.events[t],e.events[t+R](),delete e.events[t+R])}),M=1e3,U=(e,i)=>N(e,s=>{let n=i(s);n&&e.events[g].push(n)},C,s=>{let n=e.listen;e.listen=(...u)=>(!e.lc&&!e.active&&(e.active=!0,s()),n(...u));let r=e.off;return e.events[g]=[],e.off=()=>{r(),setTimeout(()=>{if(e.active&&!e.lc){e.active=!1;for(let u of e.events[g])u();e.events[g]=[]}},M)},()=>{e.listen=n,e.off=r}}),w=e=>e,c={},_={addEventListener(){},removeEventListener(){}};function J(){try{return typeof localStorage<"u"}catch{return!1}}J()&&(c=localStorage);let P={addEventListener(e,i,t){window.addEventListener("storage",i),window.addEventListener("pageshow",t)},removeEventListener(e,i,t){window.removeEventListener("storage",i),window.removeEventListener("pageshow",t)}};typeof window<"u"&&(_=P);function I(e,i=void 0,t={}){let s=t.encode||w,n=t.decode||w,r=A(i),u=r.set;r.set=f=>{typeof f>"u"?delete c[e]:c[e]=s(f),u(f)};function o(f){f.key===e?f.newValue===null?u(void 0):u(n(f.newValue)):c[e]||u(void 0)}function v(){r.set(c[e]?n(c[e]):i)}return U(r,()=>{if(v(),t.listen!==!1)return _.addEventListener(e,o,v),()=>{_.removeEventListener(e,o,v)}}),r}const l=I("cart",[],{encode:JSON.stringify,decode:JSON.parse});function T(e,i){const t=l.get("cart").filter(r=>r.product_id===i);let s=0;t&&t.forEach(r=>{s+=r.quantity}),l.get("cart").forEach(r=>{r.product_id===i&&(r.discount=S(e,s))}),l.set(l.get("cart"))}function S(e,i){return e==="ROOTS CARE"||e==="CALCETINES"?i>=52?30:i>=16?25:i>=2?20:0:0}function m(e,i,t){return`${e}_${i}_${t}`}function F({tag:e,product:i,quantity:t,size:s,color:n}){if(!t||t<1)return;const r=m(i.id,s,n),u=l.get("cart").find(f=>f.id===r);if(u){u.quantity+=t,l.set(l.get("cart")),T(e,i.id);return}const o=S(e,t),v={id:r,product_img:i.img,product_id:i.id,name:i.name,quantity:t,discount:o,size:s,color:n,price:i.Precio,tag:e};l.set([...l.get("cart"),v]),T(e,i.id)}function q(e){const i=m(e.product_id,e.size,e.color),t=l.get("cart").filter(s=>s.id!==i);l.set(t),T(e.tag,e.product_id)}function D(){l.set([])}function Q(){return l.get("cart")}export{F as a,D as b,Q as g,y as j,q as r};
